# Complete Racing Track Example
# This demonstrates all available features of the ApexSim track format

name: "Complete Racing Circuit"
default_width: 12.0
closed_loop: true

nodes:
  # === MAIN STRAIGHT (Start/Finish) ===
  - x: 0.0
    y: 0.0
    z: 0.0
    width: 15.0        # Wide start/finish straight
    banking: 0.0
    friction: 1.0
    surface_type: "Asphalt"

  - x: 150.0
    y: 0.0
    z: 0.0
    width: 15.0
    banking: 0.0
    friction: 1.0
    surface_type: "Asphalt"

  # === TURN 1 (Heavy Braking Zone) ===
  - x: 200.0
    y: 20.0
    z: 0.0
    width: 12.0       # Narrower in corner
    banking: 0.0
    friction: 0.95    # Slightly less grip (rubber buildup)
    surface_type: "Asphalt"

  - x: 220.0
    y: 50.0
    z: 1.0            # Slight elevation gain
    width: 10.0       # Even narrower at apex
    banking: 0.05     # Slight banking (~3 degrees)
    friction: 1.0
    surface_type: "Asphalt"

  # === TURN 2 (Medium Speed) ===
  - x: 230.0
    y: 100.0
    z: 2.0
    width: 11.0
    banking: 0.087    # ~5 degrees
    friction: 1.0
    surface_type: "Asphalt"

  # === BACK STRAIGHT ===
  - x: 230.0
    y: 150.0
    z: 3.0            # Uphill section
    width: 13.0
    banking: 0.0
    friction: 1.0
    surface_type: "Asphalt"

  - x: 230.0
    y: 300.0
    z: 5.0            # Peak elevation
    width: 13.0
    banking: 0.0
    friction: 1.0
    surface_type: "Asphalt"

  # === TURN 3 (Banked High-Speed Turn) ===
  - x: 250.0
    y: 350.0
    z: 5.0
    width: 14.0       # Wider for high speed
    banking: 0.122    # 7 degrees banking
    friction: 1.0
    surface_type: "Asphalt"

  - x: 280.0
    y: 380.0
    z: 4.5
    width: 14.0
    banking: 0.122
    friction: 1.0
    surface_type: "Asphalt"

  # === TURN 4 (Technical Section) ===
  - x: 320.0
    y: 400.0
    z: 4.0
    width: 10.0       # Narrow technical section
    banking: 0.0
    friction: 1.0
    surface_type: "Asphalt"

  # === CHICANE (Slow Section) ===
  - x: 350.0
    y: 410.0
    z: 3.5
    width: 9.0        # Very narrow
    banking: 0.0
    friction: 0.9     # Less grip (off-camber)
    surface_type: "Asphalt"

  - x: 370.0
    y: 405.0
    z: 3.0
    width: 9.0
    banking: 0.0
    friction: 0.9
    surface_type: "Curb"  # Curb section

  - x: 390.0
    y: 410.0
    z: 2.5
    width: 9.0
    banking: 0.0
    friction: 1.0
    surface_type: "Asphalt"

  # === WET SECTION (Special Surface) ===
  - x: 420.0
    y: 420.0
    z: 2.0
    width: 12.0
    banking: 0.0
    friction: 0.8     # Reduced grip (wet surface)
    surface_type: "Wet"

  - x: 450.0
    y: 430.0
    z: 1.5
    width: 12.0
    banking: 0.0
    friction: 0.8
    surface_type: "Wet"

  # === DOWNHILL SECTION ===
  - x: 480.0
    y: 420.0
    z: 1.0            # Starting descent
    width: 13.0
    banking: 0.0
    friction: 1.0
    surface_type: "Asphalt"

  - x: 510.0
    y: 400.0
    z: 0.0            # Back to ground level
    width: 13.0
    banking: 0.0
    friction: 1.0
    surface_type: "Asphalt"

  # === FINAL CORNER (Leading back to start) ===
  - x: 530.0
    y: 370.0
    z: 0.0
    width: 12.0
    banking: 0.06     # ~3.5 degrees
    friction: 1.0
    surface_type: "Asphalt"

  - x: 540.0
    y: 320.0
    z: 0.0
    width: 13.0
    banking: 0.08     # ~4.5 degrees
    friction: 1.0
    surface_type: "Asphalt"

  - x: 540.0
    y: 270.0
    z: 0.0
    width: 14.0
    banking: 0.05
    friction: 1.0
    surface_type: "Asphalt"

  # === RETURN TO START ===
  - x: 530.0
    y: 220.0
    z: 0.0
    width: 14.0
    banking: 0.0
    friction: 1.0
    surface_type: "Asphalt"

  - x: 500.0
    y: 180.0
    z: 0.0
    width: 14.0
    banking: 0.0
    friction: 1.0
    surface_type: "Asphalt"

  - x: 450.0
    y: 150.0
    z: 0.0
    width: 14.0
    banking: 0.0
    friction: 1.0
    surface_type: "Asphalt"

  # Smooth transition back to start
  - x: 400.0
    y: 130.0
    z: 0.0
    width: 14.0
    banking: 0.0
    friction: 1.0
    surface_type: "Asphalt"

  - x: 350.0
    y: 120.0
    z: 0.0
    width: 14.0
    banking: 0.0
    friction: 1.0
    surface_type: "Asphalt"

  - x: 300.0
    y: 110.0
    z: 0.0
    width: 14.0
    banking: 0.0
    friction: 1.0
    surface_type: "Asphalt"

  - x: 250.0
    y: 100.0
    z: 0.0
    width: 14.0
    banking: 0.0
    friction: 1.0
    surface_type: "Asphalt"

  - x: 200.0
    y: 90.0
    z: 0.0
    width: 14.0
    banking: 0.0
    friction: 1.0
    surface_type: "Asphalt"

  - x: 150.0
    y: 70.0
    z: 0.0
    width: 14.0
    banking: 0.0
    friction: 1.0
    surface_type: "Asphalt"

  - x: 100.0
    y: 50.0
    z: 0.0
    width: 15.0
    banking: 0.0
    friction: 1.0
    surface_type: "Asphalt"

  - x: 50.0
    y: 25.0
    z: 0.0
    width: 15.0
    banking: 0.0
    friction: 1.0
    surface_type: "Asphalt"

# Define checkpoints for lap timing
checkpoints:
  # Main start/finish checkpoint
  - index_start: 0
    index_end: 1

  # Sector 1 checkpoint (after turn 2)
  - index_start: 4
    index_end: 5

  # Sector 2 checkpoint (mid back straight)
  - index_start: 6
    index_end: 7

  # Sector 3 checkpoint (before final corner)
  - index_start: 18
    index_end: 19

# Custom starting grid positions
spawn_points:
  # Pole position (front left)
  - position: 0
    offset_x: -2.0
    offset_y: 0.0

  # P2 (front right)
  - position: 0
    offset_x: 2.0
    offset_y: 0.0

  # P3 (second row left)
  - position: 0
    offset_x: -2.0
    offset_y: -8.0

  # P4 (second row right)
  - position: 0
    offset_x: 2.0
    offset_y: -8.0

  # P5 (third row left)
  - position: 0
    offset_x: -2.0
    offset_y: -16.0

  # P6 (third row right)
  - position: 0
    offset_x: 2.0
    offset_y: -16.0

  # Additional positions follow same pattern...
  - position: 0
    offset_x: -2.0
    offset_y: -24.0

  - position: 0
    offset_x: 2.0
    offset_y: -24.0
